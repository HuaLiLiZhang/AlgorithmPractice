package leetcode.hardProblem;

//è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ N ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚ 
//
// ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š 
//
// 
// æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚ 
// è¯„åˆ†æ›´é«˜çš„å­©å­å¿…é¡»æ¯”ä»–ä¸¤ä¾§çš„é‚»ä½å­©å­è·å¾—æ›´å¤šçš„ç³–æœã€‚ 
// 
//
// é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼š[1,0,2]
//è¾“å‡ºï¼š5
//è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼š[1,2,2]
//è¾“å‡ºï¼š4
//è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
//     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚ 
// Related Topics è´ªå¿ƒ æ•°ç»„ 
// ğŸ‘ 647 ğŸ‘ 0


import java.util.Arrays;

public class _135Candy {
    public static void main(String[] args) {
        Solution solution = new _135Candy().new Solution();
    }

    /**
     *
     */
    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public int candy(int[] ratings) {
            if (ratings == null || ratings.length <= 0) {
                return 0;
            }
            int[] candyVec = new int[ratings.length];
            Arrays.fill(candyVec, 1);
            //å…ˆç¡®å®šå³è¾¹è¯„åˆ†å¤§äºå·¦è¾¹çš„æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯ä»å‰å‘åéå†ï¼‰
            //æ­¤æ—¶å±€éƒ¨æœ€ä¼˜ï¼šåªè¦å³è¾¹è¯„åˆ†æ¯”å·¦è¾¹å¤§ï¼Œå³è¾¹çš„å­©å­å°±å¤šä¸€ä¸ªç³–æœï¼Œå…¨å±€æœ€ä¼˜ï¼šç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å³å­©å­è·å¾—æ¯”å·¦è¾¹å­©å­æ›´å¤šçš„ç³–æœ
            //å±€éƒ¨æœ€ä¼˜å¯ä»¥æ¨å‡ºå…¨å±€æœ€ä¼˜ã€‚
            for (int i = 1; i < ratings.length; i++) {
                if (ratings[i] > ratings[i - 1]) {
                    candyVec[i] = candyVec[i - 1] + 1;
                }
            }
            //æ‰€ä»¥ç¡®å®šå·¦å­©å­å¤§äºå³å­©å­çš„æƒ…å†µä¸€å®šè¦ä»åå‘å‰éå†ï¼
            //
            //å¦‚æœ ratings[i] > ratings[i + 1]ï¼Œæ­¤æ—¶candyVec[i]ï¼ˆç¬¬iä¸ªå°å­©çš„ç³–æœæ•°é‡ï¼‰å°±æœ‰ä¸¤ä¸ªé€‰æ‹©äº†ï¼Œä¸€ä¸ªæ˜¯candyVec[i + 1] + 1ï¼ˆä»å³è¾¹è¿™ä¸ªåŠ 1å¾—åˆ°çš„ç³–æœæ•°é‡ï¼‰ï¼Œä¸€ä¸ªæ˜¯candyVec[i]ï¼ˆä¹‹å‰æ¯”è¾ƒå³å­©å­å¤§äºå·¦å­©å­å¾—åˆ°çš„ç³–æœæ•°é‡ï¼‰ã€‚
            //
            //é‚£ä¹ˆåˆè¦è´ªå¿ƒäº†ï¼Œå±€éƒ¨æœ€ä¼˜ï¼šå–candyVec[i + 1] + 1 å’Œ candyVec[i] æœ€å¤§çš„ç³–æœæ•°é‡ï¼Œä¿è¯ç¬¬iä¸ªå°å­©çš„ç³–æœæ•°é‡å³å¤§äºå·¦è¾¹çš„ä¹Ÿå¤§äºå³è¾¹çš„ã€‚å…¨å±€æœ€ä¼˜ï¼šç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­è·å¾—æ›´å¤šçš„ç³–æœã€‚
            for (int i = ratings.length - 2; i >= 0; i--) {
                if (ratings[i] > ratings[i + 1]) {
                    candyVec[i] = Math.max(candyVec[i + 1] + 1, candyVec[i]);
                }
            }
            return Arrays.stream(candyVec).sum();

        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}