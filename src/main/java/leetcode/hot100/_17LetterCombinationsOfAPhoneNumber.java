package leetcode.hot100;

//ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚ 
//
// ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚ 
//
// 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šdigits = "23"
//è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šdigits = ""
//è¾“å‡ºï¼š[]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šdigits = "2"
//è¾“å‡ºï¼š["a","b","c"]
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 0 <= digits.length <= 4 
// digits[i] æ˜¯èŒƒå›´ ['2', '9'] çš„ä¸€ä¸ªæ•°å­—ã€‚ 
// 
// Related Topics æ·±åº¦ä¼˜å…ˆæœç´¢ é€’å½’ å­—ç¬¦ä¸² å›æº¯ç®—æ³• 
// ğŸ‘ 1119 ğŸ‘ 0


import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

public class _17LetterCombinationsOfAPhoneNumber {
    public static void main(String[] args) {
        Solution solution = new _17LetterCombinationsOfAPhoneNumber().new Solution();
        String str1 = "";
        String str2 = "2";
        String str3 = "23";
        System.out.println(solution.letterCombinations(str1));
        System.out.println(solution.letterCombinations(str2));
        System.out.println(solution.letterCombinations(str3));
    }

    /**
     *
     */
    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        // æ•°å­—åˆ°å·ç çš„æ˜ å°„
        final HashMap<Character, String> phoneMap = new HashMap<Character, String>() {{
            put('2', "abc");
            put('3', "def");
            put('4', "ghi");
            put('5', "jkl");
            put('6', "mno");
            put('7', "pqrs");
            put('8', "tuv");
            put('9', "wxyz");
        }};

        //å›æº¯å‡½æ•°
        public List<String> letterCombinations(String digits) {
            List<String> conbiantions = new ArrayList<String>();
            StringBuilder conbiantion = new StringBuilder();
            if (digits == null || digits.length() <= 0) {
                return conbiantions;
            }

            backtrack(digits, conbiantions, 0, conbiantion, phoneMap);
            return conbiantions;
        }

        // æ­¤é¢˜åªèƒ½ç”¨å›æº¯æ³•æ¥åšï¼Œä¸èƒ½ç”¨forï¼Œå› ä¸ºè¾“å…¥æ•°å­—çš„ä¸ªæ•°ä¸ç¡®å®š
// æ—¶é—´å¤æ‚åº¦O(3^m + 4^n) mä¸ºè¾“å…¥æ•°å­—ä¸­å¯¹åº”ä¸‰ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œnä¸ºå››ä¸ª
// ç©ºé—´å¤æ‚åº¦O(m + n) å±‚æ•°æœ€å¤§ä¸ºæ•°å­—çš„é•¿åº¦
// ä¸ºä»€ä¹ˆä¸èƒ½ç”¨forå¾ªç¯æ¥åšï¼Ÿå› ä¸ºè¾“å…¥æ•°å­—ä¸ªæ•°ä¸ç¡®å®šï¼Œæ‰€ä»¥ä¸çŸ¥é“æœ‰å‡ å±‚forå¾ªç¯ï¼Œæ‰€ä»¥åšä¸äº†
// ä¸ºäº†éå†æ‰€æœ‰å¯èƒ½ï¼Œè¿™é¢˜åªèƒ½ç”¨å›æº¯æ³•æ¥åš
// é¦–å…ˆå¯ä»¥ç”»å‡ºä¸€ä¸ªæ ‘çš„ç»“æ„ï¼Œæ ‘æ ¹æ˜¯å‡ºå‘ç‚¹ï¼Œç¬¬ä¸€å±‚è¡¨ç¤ºç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨çš„å­—æ¯ï¼Œä»¥æ­¤ç±»æ¨
// æˆ‘ä»¬ç”¨indexè¡¨ç¤ºå½“å‰éå†åˆ°çš„å±‚æ•°ï¼Œåˆå§‹åŒ–index = 0è¡¨ç¤ºç°åœ¨æˆ‘ä»¬å‡†å¤‡è€ƒå¯Ÿç¬¬ä¸€ä¸ªæ•°å­—
// åœ¨å›æº¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯ansç”¨æ¥ä¿å­˜æœ€ç»ˆçš„ç­”æ¡ˆï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯str
// ansæ˜¯ï¼Œå½“å‘ç°å›æº¯å‡ºç•Œçš„æ—¶å€™ï¼Œå³è®¿é—®åˆ°å¶å­çš„ä¸‹ä¸€å±‚æ—¶ï¼Œæˆ‘ä»¬å°†é‚£ä¸ªæ—¶åˆ»çš„stræ”¾å…¥ans
// è€Œstrå°±æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªstack<char>ï¼Œå±‚æ•°å¢åŠ æ˜¯å…¥æ ˆï¼Œè¿”å›ä¸Šä¸€å±‚æ—¶å‡ºæ ˆ
// å¦‚ä½•å†™å¥½tracebackå‡½æ•°å‘¢ï¼Ÿé¦–å…ˆå¾—ç¡®å®šè¿™ä¸ªå‡½æ•°å¾—æœ‰å“ªäº›ä¸œè¥¿ï¼Ÿ
// 1. ä¸ºäº†ç¡®å®šæ¯ä¸€å±‚éƒ½æœ‰å“ªäº›å­—æ¯ï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥digitså’Œkeyboard
// 2. ä¸ºäº†æ›´æ–°anså’Œstrï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥è¿™ä¿©å“¥ä»¬å„¿
// 3. ä¸ºäº†çŸ¥é“ç°åœ¨åˆ°å“ªä¸€å±‚äº†ï¼Œæˆ‘ä»¬è¿˜å¾—è¾“å…¥indexä»¥è¡¨ç¤ºå½“å‰å±‚æ•°
// å‡½æ•°é‡Œé¢çš„å†…å®¹åº”è¯¥é¦–å…ˆåˆ¤æ–­è¾¹ç•Œæ¡ä»¶ï¼Ÿè¿™å¾ˆé‡è¦ï¼Œä½•ä¸ºè¾¹ç•Œæ¡ä»¶ï¼Ÿå³å•¥æ—¶å€™å¾€ä¸Šè·³ï¼Ÿ
// æˆ‘ä»¬å‘ç°ï¼Œå½“æˆ‘ä»¬è®¿é—®åˆ°å¶å­çš„ä¸‹ä¸€å±‚æ—¶ï¼Œå°±è¯¥å›æº¯äº†ï¼Œæ­¤æ—¶å›æº¯åˆ°çš„æ˜¯å¶å­ï¼
// æ­¤æ—¶çš„indexç»å¯¹ç­‰äºdigits.size()ï¼Œå› ä¸ºå¶å­å“ªä¸€å±‚æ˜¯digits.size() - 1
// å¦‚æœå‘ç°åˆ°å¶å­çš„ä¸‹ä¸€å±‚äº†ï¼Œæˆ‘ä»¬å°±è¯¥æ›´æ–°ansï¼Œå› ä¸ºæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæ–°çš„ç­”æ¡ˆï¼ŒåŒæ—¶å¾€ä¸Šè·³
// ä½ å¯èƒ½è¦é—®äº†ï¼Œæˆ‘èƒ½ä¸èƒ½åœ¨digits.size()è¿™ä¸€å±‚çš„æ—¶å€™å°±è®©strå¼¹æ ˆå•Šï¼Ÿç­”æ¡ˆæ˜¯ä¸é˜”ä»¥ï¼
// ä½ æƒ³çš„å¾ˆç¾ï¼Œè§‰å¾—æ­¤æ—¶è¿™ä¸€ç§å¯èƒ½æ€§å·²ç»ç»“æŸäº†ï¼Œå°±æƒ³ç€å¼¹æ ˆã€‚ä½†æ˜¯ä½ æƒ³ä¸€ä¸‹å¼¹æ ˆçš„æ—¶åˆ»ä»…ä»…åªåŒ…æ‹¬ä»indexåˆ°index - 1è¿™ä¸€ç§æƒ…å†µå—ï¼Ÿ
// å¯¹äºå¶å­ç»“ç‚¹ï¼Œç”±äºå…¶æ²¡æœ‰å­©å­äº†ï¼Œæ‰€ä»¥åœ¨å¶å­èŠ‚ç‚¹å¤„å¯¹åº”çš„å¼¹æ ˆå°±æ˜¯å°±æ˜¯ä»indexå›æ¥åï¼Œæˆ‘ä»¬éœ€è¦å°†å¶å­èŠ‚ç‚¹å¼¹å‡ºæ¥
// å¯¹äºå†…éƒ¨ç»“ç‚¹ï¼Œæˆ‘ä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥å°†å†…éƒ¨èŠ‚ç‚¹å¼¹æ ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰€æœ‰å„¿å­å­™å­é‡å­™å­éƒ½è¢«è®¿é—®è¿‡çš„æ—¶å€™ï¼
// ä¸Šé¢è¿™å¥è¯å¥½éš¾ç†è§£å•Šï¼ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰ï¼šçŠ¶æ€ = ç»“ç‚¹çš„ä½ç½® + æ‰€æœ‰å­æ ‘æ˜¯å¦éå†å®Œæ¯•ï¼Œç»“ç‚¹ç¡®å®šäº†å±‚æ•°ä¹Ÿå°±ç¡®å®šäº†ï¼Œè€Œâ€œæ‰€æœ‰å­æ ‘æ˜¯å¦éå†å®Œæ¯•â€ä»£è¡¨æ˜¯â€œç»§ç»­å‘ä¸‹â€ï¼ˆæœªè¿›å…¥å­æ ‘ï¼‰ï¼Œæˆ–è€…æ˜¯â€œåˆšä»å­æ ‘å›åˆ°è¯¥ç»“ç‚¹â€ï¼ˆå­æ ‘å…¨éƒ¨éå†å®Œæ¯•ï¼‰
// æ¯ç§çŠ¶æ€æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ‰€æœ‰ç»“ç‚¹ï¼ˆåŒ…æ‹¬å†…éƒ¨å’Œå¶å­ï¼‰éƒ½åªä¼šè¢«è®¿é—®ä¸¤æ¬¡ï¼Œåˆ†åˆ«å¯¹åº”ä¸Šé¢è®²çš„ä¸¤ç§çŠ¶æ€
// è¯´ç™½äº†ï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨å¯¹æ‰€æœ‰â€œçŠ¶æ€â€è¿›è¡Œéå†
// å½“â€œå½“å‰çŠ¶æ€â€ä¸ºâ€œæ‰€æœ‰å­æ ‘éå†å®Œæ¯•â€æ—¶ï¼Œå°±è¯´æ˜ä»¥å½“å‰çŠ¶æ€ä½œä¸ºåˆå§‹çŠ¶æ€æœç´¢çš„æ‰€æœ‰å¯èƒ½æ€§å·²ç»è¢«æˆ‘ä»¬æŒ–æ˜å¹²å‡€ï¼Œå°±è¦æŠŠå½“å‰èŠ‚ç‚¹ç»™è¸¢å‡ºå»ï¼Œå³å¯¹strè¿›è¡Œå¼¹æ ˆ
// å›åˆ°ä¸Šé¢çš„ä¸»é¢˜ï¼Œæ‰€ä»¥ä½ ç°åœ¨æ˜ç™½ä¸ºä»€ä¹ˆä¸èƒ½â€œåªâ€åœ¨index -> index - 1çš„å¼¹æ ˆäº†å§ï¼Ÿ
// å¯èƒ½åˆæœ‰äººè¦é—®äº†ï¼Œå¦‚ä½•ç”¨å˜æˆè¯­è¨€æ¥æè¿°ä¸Šé¢è®²çš„â€œæ‰€æœ‰å­æ ‘éå†å®Œæ¯•â€å‘¢ï¼Ÿ
// å¯¹äºæ¯ä¸ªç»“ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°ä¸æ˜¯åœ¨indexå±‚ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å…ˆæ‰¾å‡ºè¿™ä¸€å±‚æœ‰å‡ ç§å¯èƒ½æ€§ï¼Œå³keyboard[digits[index]]
// æœ‰äº†ä¸Šé¢çš„è¿™ä¸ªstringï¼ˆæ¯ä¸ªå­—ç¬¦ä»£è¡¨ä¸€ç§å¯èƒ½æ€§ï¼‰ï¼Œæˆ‘ä»¬å°±èƒ½å¾€ä¸‹æ¢ç´¢äº†
// ä¸ºä»€ä¹ˆæ˜¯å¾€ä¸‹æ¢ç´¢ï¼Ÿæƒ³ä¸€æƒ³æˆ‘ä»¬ç°åœ¨çš„â€œçŠ¶æ€â€ï¼æ˜¯ä¸æ˜¯å±äºå½“å‰èŠ‚ç‚¹çš„çŠ¶æ€1ï¼ˆå³æœªè¿›å…¥å­æ ‘ï¼‰ï¼Ÿ
// ä¸‹é¢å°±æ˜¯è¿›å…¥å­æ ‘ï¼Œç„¶åå¯¹å­æ ‘è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œé‚£tracebackçš„æœ¬è´¨å°±æ˜¯ç”¨æ¥è€ƒå¯Ÿç¬¬indexå±‚çš„
// åœ¨è¿›å…¥æ¯ä¸€ä¸ªå­æ ‘ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆæŠŠå½“å‰è¿™ç§å¯èƒ½å­˜è¿›strï¼Œç„¶åå†è¿›å…¥å­æ ‘ï¼ˆå³è°ƒç”¨è‡ªèº«ï¼‰
// å¦‚æœä¸Šé¢çš„â€œè°ƒç”¨è‡ªèº«â€ç»“æŸäº†ï¼Œå°±è¯´æ˜â€œé‚£ä¸ªå­æ ‘è¿›å…¥äº†çŠ¶æ€2â€ï¼Œå°±è¦å¾€ä¸Šè·³ï¼Œé‚£ä¸ªå­æ ‘æ²¡ç”¨äº†ï¼Œå°±è¦å¯¹strè¿›è¡Œå¼¹æ ˆ
        private void backtrack(String digits, List<String> conbiantions, int index, StringBuilder conbiantion, HashMap<Character, String> phoneMap) {
            if (index == digits.length()) {
                conbiantions.add(conbiantion.toString());
                return;
            } else {
                char digit = digits.charAt(index);
                String letters = phoneMap.get(digit);
                for (int i = 0; i < letters.length(); i++) {
                    conbiantion.append(letters.charAt(i));
                    backtrack(digits, conbiantions, index + 1, conbiantion, phoneMap);
                    conbiantion.deleteCharAt(index);
                }
            }
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}